<div style="width: 100%; height: 100%;">

  <div class="mdl-layout mdl-js-layout
              mdl-layout--fixed-header">

    <header class="mdl-layout__header
                   mdl-color--white
                   mdl-color-text--grey-700"
            style="box-shadow: none;">
      
      <div class="mdl-layout__header-row"
           style="padding: 0 16px;
                  border-bottom: 1px solid #e0e0e0;">
                  
        <div style="flex: 1; text-align: left;">
          <button class="mdl-button
                         mdl-js-button
                         mdl-button--icon"
                  id="close">
            <i class="material-icons">close</i>
          </button>
        </div>
        
        <div style="flex: 1; text-align: center;">
          <span class="mdl-layout-title"
                style="padding: 16px;
                       font-size: 16px;
                       color: rgba(0,0,0,.54);">
                Read
          </span>
        </div>

        <div style="flex: 1; text-align: right;">
          <button class="mdl-button
                         mdl-js-button
                         mdl-button--icon"
                  id="open">
            <i class="material-icons">open_in_new</i>
          </button>
        </div>

      </div>

    </header>

    <main class="mdl-layout__content
                 mdl-color-text--grey-600"
          style="padding: 16px;">

      <% if ( isPending() ) { %>
          
        Loading message...
        
      <% } else { %>

        <div class="mdl-card mdl-shadow--2dp" style="width: 100%;">

          <h5 class="mdl-card__title" style="margin: 0px; font-weight: 200; padding: 16px 16px 0 16px;">
            
            <div class="truncate">
              
              <span class="ellipsis"><%= getSubject() %></span>
              
              <span style="text-align: right; font-size: 14px; font-weight: 400; letter-spacing: 0; line-height: 24px; height: 24px; color: rgba(0,0,0,.54); padding: 0;">
                
                <label class="mdl-icon-toggle
                              mdl-js-icon-toggle"
                       for="star">
              
                  <input type="checkbox"
                         id="star" class="mdl-icon-toggle__input" 
                         <% if ( isStarred() ) { %> checked <% } %> >
              
                  <i class="mdl-icon-toggle__label material-icons">star_outline</i>
              
                </label>
              
              </span>
            
            </div>
          
          </h5>

          <div class="mdl-card__title" style="padding: 0 16px;">
            <li class="mdl-list__item" style="width: 100%; color: rgba(0,0,0,.54); font-size: 14px; font-weight: 400; letter-spacing: 0; padding: 0px;">
              <span class="mdl-list__item-primary-content">
                
                <div class="truncate">
                  <span class="ellipsis">
                    <% if ( isUnread() ) { %>
                      <i class="fa fa-circle" style="color: #03A9F4;"></i>
                    <% } else { %>
                      <i class="fa fa-circle-thin" style="color: #03A9F4;"></i>
                    <% } %>
                    <span style="text-decoration: underline; padding-left: 12px;"><%= getFrom()[0] %></span>
                      &nbsp;to&nbsp;
                    <span style="text-decoration: underline;"><%= getTo() %></span>
                  </span>
                  <span style="text-align: right; font-size: 14px; font-weight: 400; letter-spacing: 0; line-height: 24px; height: 24px; color: rgba(0,0,0,.54); padding: 0;">
                    <% if ( hasAttachment() ) { %>
                      <i class="fa fa-paperclip">&nbsp;</i>
                    <% } else { %>
                      <i class="fa fa-fw">&nbsp;</i>
                    <% } %>
                    <%= getHumanDate() %>
                  </span>
                </div>

              </span>

            </li>
          </div>

          <div class="mdl-card__supporting-text" style="width: initial;"><iframe srcdoc="<%- getBody() %>" width="100%"></iframe></div>
        
        </div>

      <% } %>

      <footer>

        <div class="mdl-layout__header-row" style="padding: 0 16px;">

          <div style="flex: 1; text-align: center;">
            <button class="mdl-button
                           mdl-js-button
                           mdl-button--colored"
                    id="trash">
              Trash
            </button>
          </div>

          <div style="flex: 1; text-align: center;">
            <button class="mdl-button
                           mdl-js-button
                           mdl-button--colored"
                    id="snooze">
              Snooze
            </button>
          </div>

          <div style="flex: 1; text-align: center;">
            <button class="mdl-button
                           mdl-js-button
                           mdl-button--colored"
                    id="forward">
              Forward
            </button>
          </div>

          <div style="flex: 1; text-align: center;">
            <button class="mdl-button
                           mdl-js-button
                           mdl-button--colored"
                    id="reply">
              Reply
            </button>
          </div>

        </div>

      </footer>
    
    </main>

  </div>

</div>